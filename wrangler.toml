name = "auto-landlord"
main = ".open-next/worker.js"
compatibility_date = "2024-09-23"
compatibility_flags = ["nodejs_compat", "nodejs_compat_populate_process_env"]
assets = {directory = ".open-next/assets", binding = "ASSETS"}
observability = { enabled = true }

# Cloudflare D1 Database (Production)
[[d1_databases]]
binding = "DB"
database_name = "auto-landlord-db"
database_id = "5dfcf091-d371-492d-9d55-8cdbfc449b4d"

# Cloudflare R2 Storage (Production)
[[r2_buckets]]
binding = "R2"
bucket_name = "auto-landlord"

# R2 Bucket for Incremental Cache (required by OpenNext)
[[r2_buckets]]
binding = "NEXT_INC_CACHE_R2_BUCKET"
bucket_name = "auto-landlord-cache"

[vars]
NODE_ENV = "production"
NEXT_PUBLIC_APP_URL = "https://auto-landlord.fitzgeral.my.id"
